import{E as e,a as t}from"./pdf-vendor-Dox1XW1S.js";const l=(e,l)=>{const i=l.map((e=>({spellName:e.spellName||"",spellClass:e.spellClass||"",school:e.school||"",complexity:e.complexity||"",flare:e.flare||"",range:e.range||"",target:e.target||"",action:e.action||"",duration:e.duration||""})));t(e,{columns:[{header:"Name",dataKey:"spellName"},{header:"Class",dataKey:"spellClass"},{header:"School",dataKey:"school"},{header:"Complexity",dataKey:"complexity"},{header:"Flare",dataKey:"flare"},{header:"Range",dataKey:"range"},{header:"Target",dataKey:"target"},{header:"Action",dataKey:"action"},{header:"Duration",dataKey:"duration"}],body:i,startY:40,margin:{top:10},styles:{cellPadding:2,fontSize:9},columnStyles:{0:{cellWidth:40},1:{cellWidth:25},2:{cellWidth:25},3:{cellWidth:20},4:{cellWidth:15},5:{cellWidth:20},6:{cellWidth:20},7:{cellWidth:25},8:{cellWidth:25}}})},i=(e,t)=>{e.addPage(),e.setDrawColor(100,100,100),e.setLineWidth(.3),e.rect(5,5,e.internal.pageSize.width-10,e.internal.pageSize.height-10),e.setFillColor(50,50,50),e.setFontSize(20),e.setFont("helvetica","bold"),e.text(t.spellName||"Spell",14,20),e.setDrawColor(100,100,100),e.setLineWidth(.5),e.line(14,22,e.internal.pageSize.width-14,22),e.setFontSize(12),e.setFont("helvetica","normal"),e.text(`${t.spellClass} - ${t.school}`,14,30);e.setDrawColor(200,200,200),e.setFillColor(250,250,250),e.setLineWidth(.3),e.roundedRect(10,35,e.internal.pageSize.width-20,59.5,3,3,"FD"),e.setFontSize(10),e.setFont("helvetica","bold"),e.text("Complexity:",14,40),e.setFont("helvetica","normal"),e.text(String(t.complexity||""),50,40),e.setFont("helvetica","bold"),e.text("Flare:",14,47),e.setFont("helvetica","normal"),e.text(String(t.flare||""),50,47),e.setFont("helvetica","bold"),e.text("Range:",14,54),e.setFont("helvetica","normal"),e.text(String(t.range||""),50,54),e.setFont("helvetica","bold"),e.text("Target:",14,61),e.setFont("helvetica","normal"),e.text(String(t.target||""),50,61),e.setFont("helvetica","bold"),e.text("Action:",14,68),e.setFont("helvetica","normal"),e.text(String(t.action||""),50,68),e.setFont("helvetica","bold"),e.text("Duration:",14,75),e.setFont("helvetica","normal"),e.text(String(t.duration||""),50,75),e.setFont("helvetica","bold"),e.text("Keywords:",14,82),e.setFont("helvetica","normal"),e.text(String(t.keywords||""),50,82),e.setFont("helvetica","bold"),e.text("Check:",14,89),e.setFont("helvetica","normal"),e.text(String(t.check||""),50,89),e.setFont("helvetica","bold"),e.text("Description:",14,103),e.setFont("helvetica","normal");const l=e.splitTextToSize(String(t.description||""),180),i=5*l.length;if(e.setDrawColor(220,220,220),e.setFillColor(250,250,250),e.roundedRect(10,106.5,e.internal.pageSize.width-20,i+5,2,2,"FD"),e.text(l,14,110),t.altDescription&&"-"!==t.altDescription&&"null"!==t.altDescription){const l=110+i;e.setFont("helvetica","bold"),e.text("Alternative Description:",14,l+7),e.setFont("helvetica","normal");const o=e.splitTextToSize(String(t.altDescription),180),a=5*o.length;e.setDrawColor(220,220,220),e.setFillColor(250,250,250),e.roundedRect(10,l+10.5,e.internal.pageSize.width-20,a+5,2,2,"FD"),e.text(o,14,l+14)}},o=t=>{if(!t.length)return;const o=new e({orientation:"landscape",unit:"mm",format:"a4"});o.setFillColor(240,240,240),o.rect(0,0,o.internal.pageSize.width,30,"F"),o.setDrawColor(200,200,200),o.setLineWidth(.5),o.line(0,30,o.internal.pageSize.width,30),o.setFontSize(20),o.setFont("helvetica","bold"),o.setTextColor(60,60,60),o.text("SAGA Spells",14,20),o.setTextColor(0,0,0),o.setFontSize(12),o.setFont("helvetica","normal"),o.text(`Total: ${t.length} spells`,14,40);const a=(new Date).toLocaleDateString();o.setFontSize(10),o.setFont("helvetica","italic"),o.setTextColor(100,100,100),o.text(`Generated on ${a}`,o.internal.pageSize.width-60,40),l(o,t),o.addPage(),o.setFillColor(240,240,240),o.rect(0,0,o.internal.pageSize.width,30,"F"),o.setDrawColor(200,200,200),o.setLineWidth(.5),o.line(0,30,o.internal.pageSize.width,30),o.setFontSize(20),o.setFont("helvetica","bold"),o.setTextColor(60,60,60),o.text("Table of Contents",14,20),o.setFontSize(10),o.setFont("helvetica","normal"),o.setTextColor(0,0,0);let n=40;o.setFont("helvetica","bold"),o.text("Spell Name",14,n),o.text("Class",100,n),o.text("School",140,n),o.text("Page",o.internal.pageSize.width-25,n),o.setDrawColor(180,180,180),o.setLineWidth(.3),o.line(14,n+2,o.internal.pageSize.width-14,n+2),o.setFont("helvetica","normal"),n+=14;let s=!1;t.forEach(((e,t)=>{n>o.internal.pageSize.height-20&&(o.addPage(),o.setFillColor(240,240,240),o.rect(0,0,o.internal.pageSize.width,30,"F"),o.setDrawColor(200,200,200),o.setLineWidth(.5),o.line(0,30,o.internal.pageSize.width,30),o.setFontSize(20),o.setFont("helvetica","bold"),o.setTextColor(60,60,60),o.text("Table of Contents (continued)",14,20),n=40,o.setFontSize(10),o.setFont("helvetica","normal"),o.setTextColor(0,0,0),o.setFont("helvetica","bold"),o.text("Spell Name",14,n),o.text("Class",100,n),o.text("School",140,n),o.text("Page",o.internal.pageSize.width-25,n),o.setDrawColor(180,180,180),o.setLineWidth(.3),o.line(14,n+2,o.internal.pageSize.width-14,n+2),o.setFont("helvetica","normal"),n+=14,s=!1),s&&(o.setFillColor(245,245,245),o.rect(14,n-5,o.internal.pageSize.width-28,7,"F")),s=!s;const l=t+3;o.text(e.spellName,14,n),o.text(e.spellClass,100,n),o.text(e.school,140,n),o.text(String(l),o.internal.pageSize.width-25,n),n+=7})),t.forEach((e=>{i(o,e)}));const r=o.internal.pages.length;for(let e=1;e<=r;e++)o.setPage(e),o.setFontSize(8),o.setTextColor(100,100,100),o.text("SAGA Spells",14,10),o.setFontSize(8),o.text(`Page ${e} of ${r}`,o.internal.pageSize.width-30,o.internal.pageSize.height-10),o.text(a,14,o.internal.pageSize.height-10);o.save("saga-spells.pdf")},a=t=>{if(!t)return;const o=new e({orientation:"landscape",unit:"mm",format:"a4"});((e,t)=>{const l=e.internal.pageSize.width,i=e.internal.pageSize.height;e.setDrawColor(80,80,80),e.setLineWidth(.7),e.rect(20,20,l-40,i-40),e.setDrawColor(120,120,120),e.setLineWidth(.3),e.rect(25,25,l-50,i-50),e.setDrawColor(60,60,60),e.setLineWidth(1),e.line(30,45,l-30,45),e.line(30,i-45,l-30,i-45),e.setFontSize(32),e.setFont("helvetica","bold"),e.setTextColor(20,20,20);const o=e.getTextWidth(t.name);e.text(t.name,(l-o)/2,80),e.setFontSize(18),e.setFont("helvetica","normal");const a=`Character: ${t.character}`,n=e.getTextWidth(a);if(e.text(a,(l-n)/2,100),t.description){e.setFontSize(12);const i=e.splitTextToSize(t.description,160),o=5*i.length+10;e.setDrawColor(200,200,200),e.setFillColor(248,248,248),e.roundedRect((l-170)/2,110,170,o,3,3,"FD"),e.text(i,(l-160)/2,120)}e.setFontSize(14),e.setFont("helvetica","bold");const s=`Contains ${t.spells.length} spells`,r=e.getTextWidth(s),h=r+20,d=(l-h)/2;e.setFillColor(240,240,240),e.setDrawColor(180,180,180),e.roundedRect(d,160,h,10,5,5,"FD"),e.text(s,(l-r)/2,167),e.setFontSize(10),e.setFont("helvetica","italic"),e.setTextColor(100,100,100);const c=`Generated on ${(new Date).toLocaleDateString()}`,g=e.getTextWidth(c);e.text(c,(l-g)/2,i-30)})(o,t),((e,t)=>{e.addPage(),e.setFillColor(240,240,240),e.rect(0,0,e.internal.pageSize.width,30,"F"),e.setDrawColor(200,200,200),e.setLineWidth(.5),e.line(0,30,e.internal.pageSize.width,30),e.setFontSize(24),e.setFont("helvetica","bold"),e.setTextColor(60,60,60),e.text("Table of Contents",14,20),e.setFontSize(10),e.setFont("helvetica","normal"),e.setTextColor(0,0,0);let l=40;e.setFont("helvetica","bold"),e.text("Spell Name",14,l),e.text("Class",100,l),e.text("School",140,l),e.text("Page",e.internal.pageSize.width-25,l),e.setDrawColor(180,180,180),e.setLineWidth(.3),e.line(14,l+2,e.internal.pageSize.width-14,l+2),e.setFont("helvetica","normal"),l+=14;let i=!1;t.forEach(((t,o)=>{l>e.internal.pageSize.height-20&&(e.addPage(),e.setFillColor(240,240,240),e.rect(0,0,e.internal.pageSize.width,30,"F"),e.setDrawColor(200,200,200),e.setLineWidth(.5),e.line(0,30,e.internal.pageSize.width,30),e.setFontSize(24),e.setFont("helvetica","bold"),e.setTextColor(60,60,60),e.text("Table of Contents (continued)",14,20),l=40,e.setFontSize(10),e.setFont("helvetica","normal"),e.setTextColor(0,0,0),e.setFont("helvetica","bold"),e.text("Spell Name",14,l),e.text("Class",100,l),e.text("School",140,l),e.text("Page",e.internal.pageSize.width-25,l),e.setDrawColor(180,180,180),e.setLineWidth(.3),e.line(14,l+2,e.internal.pageSize.width-14,l+2),e.setFont("helvetica","normal"),l+=14,i=!1),i&&(e.setFillColor(245,245,245),e.rect(14,l-5,e.internal.pageSize.width-28,7,"F")),i=!i;const a=o+3;e.text(t.spellName,14,l),e.text(t.spellClass,100,l),e.text(t.school,140,l),e.text(String(a),e.internal.pageSize.width-25,l),l+=7}))})(o,t.spells),o.addPage(),o.setFillColor(240,240,240),o.rect(0,0,o.internal.pageSize.width,30,"F"),o.setDrawColor(200,200,200),o.setLineWidth(.5),o.line(0,30,o.internal.pageSize.width,30),o.setFontSize(20),o.setFont("helvetica","bold"),o.setTextColor(60,60,60),o.text("Spells Summary",14,20),o.setTextColor(0,0,0),o.setFontSize(12),o.setFont("helvetica","normal"),o.text(`Total: ${t.spells.length} spells`,14,40),l(o,t.spells),t.spells.forEach((e=>{i(o,e)}));const a=o.internal.pages.length-1;for(let e=2;e<=a;e++){o.setPage(e),o.setFontSize(8),o.setTextColor(100,100,100),o.text(t.name,14,10),o.setFontSize(8),o.text(`Page ${e-1} of ${a-1}`,o.internal.pageSize.width-30,o.internal.pageSize.height-10);const l=(new Date).toLocaleDateString();o.text(l,14,o.internal.pageSize.height-10)}const n=`${t.name.toLowerCase().replace(/\s+/g,"-")}.pdf`;return o.save(n),n};export{a as exportSpellbookToPDF,o as exportSpellsToPDF};
