import{r as e,R as t,c as n,g as r}from"./react-vendor-Dbzhzy_A.js";import{r as o,_ as s,a as i,j as a,N as l,f as u,u as c,g as d,b as f,c as p,d as m,e as h,h as b,O as y,B as E,R as g,i as v,k as x,G as C,l as S,m as k,M as j}from"./mantine-core-BHR5fWID.js";const V=function(){let e={notifications:[],queue:[],defaultPosition:"bottom-right",limit:5},t=!1;const n=new Set;return{getState:()=>e,updateState(t){e="function"==typeof t?t(e):t},setState(t){this.updateState(t),n.forEach((t=>t(e)))},initialize(n){t||(e=n,t=!0)},subscribe:e=>(n.add(e),()=>n.delete(e))}}();function O(e,t){const n=e.getState(),r=function(e,t,n){const r=[],o=[],s={};for(const i of e){const e=i.position||t;s[e]=s[e]||0,s[e]+=1,s[e]<=n?o.push(i):r.push(i)}return{notifications:o,queue:r}}(t([...n.notifications,...n.queue]),n.defaultPosition,n.limit);e.setState({notifications:r.notifications,queue:r.queue,limit:n.limit,defaultPosition:n.defaultPosition})}function P(e,t=V){return O(t,(t=>t.filter((t=>t.id!==e||(t.onClose?.(t),!1))))),e}const D={show:function(e,t=V){const n=e.id||o();return O(t,(t=>e.id&&t.some((t=>t.id===e.id))?t:[...t,{...e,id:n}])),n},hide:P,update:function(e,t=V){return O(t,(t=>t.map((t=>t.id===e.id?{...t,...e}:t)))),e.id},clean:function(e=V){O(e,(()=>[]))},cleanQueue:function(e=V){O(e,(t=>t.slice(0,e.getState().limit)))},updateState:O};function $(e,t){return($=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function w(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,$(e,t)}const M=t.createContext(null);var T="unmounted",I="exited",F="entering",N="entered",R="exiting",L=function(e){function r(t,n){var r;r=e.call(this,t,n)||this;var o,s=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?s?(o=I,r.appearStatus=F):o=N:o=t.unmountOnExit||t.mountOnEnter?T:I,r.state={status:o},r.nextCallback=null,r}w(r,e),r.getDerivedStateFromProps=function(e,t){return e.in&&t.status===T?{status:I}:null};var o=r.prototype;return o.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},o.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==F&&n!==N&&(t=F):n!==F&&n!==N||(t=R)}this.updateStatus(!1,t)},o.componentWillUnmount=function(){this.cancelNextCallback()},o.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},o.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===F){if(this.props.unmountOnExit||this.props.mountOnEnter){var r=this.props.nodeRef?this.props.nodeRef.current:n.findDOMNode(this);r&&function(e){e.scrollTop}(r)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===I&&this.setState({status:T})},o.performEnter=function(e){var t=this,r=this.props.enter,o=this.context?this.context.isMounting:e,s=this.props.nodeRef?[o]:[n.findDOMNode(this),o],i=s[0],a=s[1],l=this.getTimeouts(),u=o?l.appear:l.enter;e||r?(this.props.onEnter(i,a),this.safeSetState({status:F},(function(){t.props.onEntering(i,a),t.onTransitionEnd(u,(function(){t.safeSetState({status:N},(function(){t.props.onEntered(i,a)}))}))}))):this.safeSetState({status:N},(function(){t.props.onEntered(i)}))},o.performExit=function(){var e=this,t=this.props.exit,r=this.getTimeouts(),o=this.props.nodeRef?void 0:n.findDOMNode(this);t?(this.props.onExit(o),this.safeSetState({status:R},(function(){e.props.onExiting(o),e.onTransitionEnd(r.exit,(function(){e.safeSetState({status:I},(function(){e.props.onExited(o)}))}))}))):this.safeSetState({status:I},(function(){e.props.onExited(o)}))},o.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},o.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},o.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},o.onTransitionEnd=function(e,t){this.setNextCallback(t);var r=this.props.nodeRef?this.props.nodeRef.current:n.findDOMNode(this),o=null==e&&!this.props.addEndListener;if(r&&!o){if(this.props.addEndListener){var s=this.props.nodeRef?[this.nextCallback]:[r,this.nextCallback],i=s[0],a=s[1];this.props.addEndListener(i,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},o.render=function(){var e=this.state.status;if(e===T)return null;var n=this.props,r=n.children;n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef;var o=s(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return t.createElement(M.Provider,{value:null},"function"==typeof r?r(e,o):t.cloneElement(t.Children.only(r),o))},r}(t.Component);function A(){}function _(t,n){var r=Object.create(null);return t&&e.Children.map(t,(function(e){return e})).forEach((function(t){r[t.key]=function(t){return n&&e.isValidElement(t)?n(t):t}(t)})),r}function z(e,t,n){return null!=n[t]?n[t]:e.props[t]}function W(t,n,r){var o=_(t.children),s=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,o=Object.create(null),s=[];for(var i in e)i in t?s.length&&(o[i]=s,s=[]):s.push(i);var a={};for(var l in t){if(o[l])for(r=0;r<o[l].length;r++){var u=o[l][r];a[o[l][r]]=n(u)}a[l]=n(l)}for(r=0;r<s.length;r++)a[s[r]]=n(s[r]);return a}(n,o);return Object.keys(s).forEach((function(i){var a=s[i];if(e.isValidElement(a)){var l=i in n,u=i in o,c=n[i],d=e.isValidElement(c)&&!c.props.in;!u||l&&!d?u||!l||d?u&&l&&e.isValidElement(c)&&(s[i]=e.cloneElement(a,{onExited:r.bind(null,a),in:c.props.in,exit:z(a,"exit",t),enter:z(a,"enter",t)})):s[i]=e.cloneElement(a,{in:!1}):s[i]=e.cloneElement(a,{onExited:r.bind(null,a),in:!0,exit:z(a,"exit",t),enter:z(a,"enter",t)})}})),s}L.contextType=M,L.propTypes={},L.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:A,onEntering:A,onEntered:A,onExit:A,onExiting:A,onExited:A},L.UNMOUNTED=T,L.EXITED=I,L.ENTERING=F,L.ENTERED=N,L.EXITING=R;var H=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},U=function(n){function r(e,t){var r,o=(r=n.call(this,e,t)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r));return r.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},r}w(r,n);var o=r.prototype;return o.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},o.componentWillUnmount=function(){this.mounted=!1},r.getDerivedStateFromProps=function(t,n){var r,o,s=n.children,i=n.handleExited;return{children:n.firstRender?(r=t,o=i,_(r.children,(function(t){return e.cloneElement(t,{onExited:o.bind(null,t),in:!0,appear:z(t,"appear",r),enter:z(t,"enter",r),exit:z(t,"exit",r)})}))):W(t,s,i),firstRender:!1}},o.handleExited=function(e,t){var n=_(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=i({},t.children);return delete n[e.key],{children:n}})))},o.render=function(){var e=this.props,n=e.component,r=e.childFactory,o=s(e,["component","childFactory"]),i=this.state.contextValue,a=H(this.state.children).map(r);return delete o.appear,delete o.enter,delete o.exit,null===n?t.createElement(M.Provider,{value:i},a):t.createElement(M.Provider,{value:i},t.createElement(n,o,a))},r}(t.Component);U.propTypes={},U.defaultProps={component:"div",childFactory:function(e){return e}};const X=["bottom-center","bottom-left","bottom-right","top-center","top-left","top-right"],q={left:"translateX(-100%)",right:"translateX(100%)","top-center":"translateY(-100%)","bottom-center":"translateY(100%)"},B={left:"translateX(0)",right:"translateX(0)","top-center":"translateY(0)","bottom-center":"translateY(0)"};function G({state:e,maxHeight:t,position:n,transitionDuration:r}){const[o,s]=n.split("-"),i="center"===s?`${o}-center`:s,a={opacity:1,transform:B[i]},l={opacity:0,maxHeight:0,transform:q[i]};return{opacity:0,maxHeight:t,transform:q[i],transitionDuration:`${r}ms, ${r}ms, ${r}ms`,transitionTimingFunction:"cubic-bezier(.51,.3,0,1.21), cubic-bezier(.51,.3,0,1.21), linear",transitionProperty:"opacity, transform, max-height",...{entering:a,entered:a,exiting:l,exited:l}[e]}}const Y=e.forwardRef((({data:t,onHide:n,autoClose:r,...o},s)=>{const{autoClose:i,message:u,...c}=t,d=function(e,t){return"number"==typeof t?t:!1!==t&&!1!==e&&e}(r,t.autoClose),f=e.useRef(-1),p=()=>window.clearTimeout(f.current),m=()=>{n(t.id),p()},h=()=>{"number"==typeof d&&(f.current=window.setTimeout(m,d))};return e.useEffect((()=>{t.onOpen?.(t)}),[]),e.useEffect((()=>(h(),p)),[d]),a.jsx(l,{...o,...c,onClose:m,ref:s,onMouseEnter:p,onMouseLeave:h,children:u})}));Y.displayName="@mantine/notifications/NotificationContainer";var Q={root:"m_b37d9ac7",notification:"m_5ed0edd0"};const Z=L,J={position:"bottom-right",autoClose:4e3,transitionDuration:250,containerWidth:440,notificationMaxHeight:200,limit:5,zIndex:d("overlay"),store:V,withinPortal:!0},K=v(((e,{zIndex:t,containerWidth:n})=>({root:{"--notifications-z-index":t?.toString(),"--notifications-container-width":x(n)}}))),ee=u(((t,n)=>{const r=c("Notifications",J,t),{classNames:o,className:s,style:i,styles:l,unstyled:u,vars:d,position:v,autoClose:x,transitionDuration:C,containerWidth:S,notificationMaxHeight:k,limit:j,zIndex:O,store:D,portalProps:$,withinPortal:w,...M}=r,T=f(),I=((t=V)=>function(t){return e.useSyncExternalStore(t.subscribe,(()=>t.getState()),(()=>t.getState()))}(t))(D),F=p(),N=m(),R=e.useRef({}),L=e.useRef(0),A=T.respectReducedMotion&&N?1:C,_=h({name:"Notifications",classes:Q,props:r,className:s,style:i,classNames:o,styles:l,unstyled:u,vars:d,varsResolver:K});e.useEffect((()=>{D?.updateState((e=>({...e,limit:j||5,defaultPosition:v})))}),[j,v]),b((()=>{I.notifications.length>L.current&&setTimeout((()=>F()),0),L.current=I.notifications.length}),[I.notifications]);const z=(W=I.notifications,H=v,W.reduce(((e,t)=>(e[t.position||H].push(t),e)),X.reduce(((e,t)=>(e[t]=[],e)),{})));var W,H;const q=X.reduce(((e,t)=>(e[t]=z[t].map((({style:e,...n})=>a.jsx(Z,{timeout:A,onEnter:()=>R.current[n.id].offsetHeight,nodeRef:{current:R.current[n.id]},children:r=>a.jsx(Y,{ref:e=>{R.current[n.id]=e},data:n,onHide:e=>P(e,D),autoClose:x,..._("notification",{style:{...G({state:r,position:t,transitionDuration:A,maxHeight:k}),...e}})})},n.id))),e)),{});return a.jsxs(y,{withinPortal:w,...$,children:[a.jsx(E,{..._("root"),"data-position":"top-center",ref:n,...M,children:a.jsx(U,{children:q["top-center"]})}),a.jsx(E,{..._("root"),"data-position":"top-left",...M,children:a.jsx(U,{children:q["top-left"]})}),a.jsx(E,{..._("root",{className:g.classNames.fullWidth}),"data-position":"top-right",...M,children:a.jsx(U,{children:q["top-right"]})}),a.jsx(E,{..._("root",{className:g.classNames.fullWidth}),"data-position":"bottom-right",...M,children:a.jsx(U,{children:q["bottom-right"]})}),a.jsx(E,{..._("root"),"data-position":"bottom-left",...M,children:a.jsx(U,{children:q["bottom-left"]})}),a.jsx(E,{..._("root"),"data-position":"bottom-center",...M,children:a.jsx(U,{children:q["bottom-center"]})})]})}));ee.classes=Q,ee.displayName="@mantine/notifications/Notifications",ee.show=D.show,ee.hide=D.hide,ee.update=D.update,ee.clean=D.clean,ee.cleanQueue=D.cleanQueue,ee.updateState=D.updateState;const te=e.createContext(null);function ne({id:t,cancelProps:n,confirmProps:r,labels:o={cancel:"",confirm:""},closeOnConfirm:s=!0,closeOnCancel:i=!0,groupProps:l,onCancel:u,onConfirm:c,children:d}){const{cancel:f,confirm:p}=o,m=function(){const t=e.useContext(te);if(!t)throw new Error("[@mantine/modals] useModals hook was called outside of context, wrap your app with ModalsProvider component");return t}();return a.jsxs(a.Fragment,{children:[d&&a.jsx(E,{mb:"md",children:d}),a.jsxs(C,{mt:d?0:"md",justify:"flex-end",...l,children:[a.jsx(S,{variant:"default",...n,onClick:e=>{"function"==typeof n?.onClick&&n?.onClick(e),"function"==typeof u&&u(),i&&m.closeModal(t)},children:n?.children||f}),a.jsx(S,{...r,onClick:e=>{"function"==typeof r?.onClick&&r?.onClick(e),"function"==typeof c&&c(),s&&m.closeModal(t)},children:r?.children||p})]})]})}te.displayName="@mantine/modals/ModalsContext";const[re,oe]=k("mantine-modals"),se={open:e=>{const t=e.modalId||o();return oe("openModal")({...e,modalId:t}),t},close:oe("closeModal"),closeAll:oe("closeAllModals"),openConfirmModal:e=>{const t=e.modalId||o();return oe("openConfirmModal")({...e,modalId:t}),t},openContextModal:e=>{const t=e.modalId||o();return oe("openContextModal")({...e,modalId:t}),t},updateModal:e=>oe("updateModal")(e),updateContextModal:e=>oe("updateContextModal")(e)};function ie(e,t){t&&"confirm"===e.type&&e.props.onCancel?.(),e.props.onClose?.()}function ae(e,t){switch(t.type){case"OPEN":return{current:t.modal,modals:[...e.modals,t.modal]};case"CLOSE":{const n=e.modals.find((e=>e.id===t.modalId));if(!n)return e;ie(n,t.canceled);const r=e.modals.filter((e=>e.id!==t.modalId));return{current:r[r.length-1]||e.current,modals:r}}case"CLOSE_ALL":return e.modals.length?(e.modals.concat().reverse().forEach((e=>{ie(e,t.canceled)})),{current:e.current,modals:[]}):e;case"UPDATE":{const{modalId:n,newProps:r}=t,o=e.modals.map((e=>e.id!==n?e:"content"===e.type||"confirm"===e.type?{...e,props:{...e.props,...r}}:"context"===e.type?{...e,props:{...e.props,...r,innerProps:{...e.props.innerProps,...r.innerProps}}}:e)),s=e.current?.id===n&&o.find((e=>e.id===n))||e.current;return{...e,modals:o,current:s}}default:return e}}function le({children:t,modalProps:n,labels:r,modals:s}){const[i,l]=e.useReducer(ae,{modals:[],current:null}),u=e.useRef(i);u.current=i;const c=e.useCallback((e=>{l({type:"CLOSE_ALL",canceled:e})}),[u,l]),f=e.useCallback((({modalId:e,...t})=>{const n=e||o();return l({type:"OPEN",modal:{id:n,type:"content",props:t}}),n}),[l]),p=e.useCallback((({modalId:e,...t})=>{const n=e||o();return l({type:"OPEN",modal:{id:n,type:"confirm",props:t}}),n}),[l]),m=e.useCallback(((e,{modalId:t,...n})=>{const r=t||o();return l({type:"OPEN",modal:{id:r,type:"context",props:n,ctx:e}}),r}),[l]),h=e.useCallback(((e,t)=>{l({type:"CLOSE",modalId:e,canceled:t})}),[u,l]),b=e.useCallback((({modalId:e,...t})=>{l({type:"UPDATE",modalId:e,newProps:t})}),[l]),y=e.useCallback((({modalId:e,...t})=>{l({type:"UPDATE",modalId:e,newProps:t})}),[l]);re({openModal:f,openConfirmModal:p,openContextModal:({modal:e,...t})=>m(e,t),closeModal:h,closeContextModal:h,closeAllModals:c,updateModal:b,updateContextModal:y});const E={modalProps:n||{},modals:i.modals,openModal:f,openConfirmModal:p,openContextModal:m,closeModal:h,closeContextModal:h,closeAll:c,updateModal:b,updateContextModal:y},{modalProps:g,content:v}=(()=>{const e=u.current.current;switch(e?.type){case"context":{const{innerProps:t,...n}=e.props,r=s[e.ctx];return{modalProps:n,content:a.jsx(r,{innerProps:t,context:E,id:e.id})}}case"confirm":{const{modalProps:t,confirmProps:n}=function(e){if(!e)return{confirmProps:{},modalProps:{}};const{id:t,children:n,onCancel:r,onConfirm:o,closeOnConfirm:s,closeOnCancel:i,cancelProps:a,confirmProps:l,groupProps:u,labels:c,...d}=e;return{confirmProps:{id:t,children:n,onCancel:r,onConfirm:o,closeOnConfirm:s,closeOnCancel:i,cancelProps:a,confirmProps:l,groupProps:u,labels:c},modalProps:{id:t,...d}}}(e.props);return{modalProps:t,content:a.jsx(ne,{...n,id:e.id,labels:e.props.labels||r})}}case"content":{const{children:t,...n}=e.props;return{modalProps:n,content:t}}default:return{modalProps:{},content:null}}})();return a.jsxs(te.Provider,{value:E,children:[a.jsx(j,{zIndex:d("modal")+1,...n,...g,opened:i.modals.length>0,onClose:()=>h(i.current?.id),children:v}),t]})}const ue="undefined"!=typeof window?e.useLayoutEffect:e.useEffect;function ce(e,t){ue((()=>{if(e)return window.addEventListener(e,t),()=>window.removeEventListener(e,t)}),[e])}function de(e){return null===e||"object"!=typeof e?{}:Object.keys(e).reduce(((t,n)=>{const r=e[n];return null!=r&&!1!==r&&(t[n]=r),t}),{})}function fe(e,t){if(null===t||"object"!=typeof t)return{};const n={...t};return Object.keys(t).forEach((t=>{t.includes(`${String(e)}.`)&&delete n[t]})),n}function pe(e,t){const n=e.substring(t.length+1).split(".")[0];return parseInt(n,10)}function me(e,t,n,r){if(void 0===t)return n;const o=`${String(e)}`;let s=n;-1===r&&(s=fe(`${o}.${t}`,s));const i={...s},a=new Set;return Object.entries(s).filter((([e])=>{if(!e.startsWith(`${o}.`))return!1;const n=pe(e,o);return!Number.isNaN(n)&&n>=t})).forEach((([e,t])=>{const n=pe(e,o),s=e.replace(`${o}.${n}`,`${o}.${n+r}`);i[s]=t,a.add(s),a.has(e)||delete i[e]})),i}function he(e,t,n){"object"==typeof n.value&&(n.value=be(n.value)),n.enumerable&&!n.get&&!n.set&&n.configurable&&n.writable&&"__proto__"!==t?e[t]=n.value:Object.defineProperty(e,t,n)}function be(e){if("object"!=typeof e)return e;var t,n,r,o=0,s=Object.prototype.toString.call(e);if("[object Object]"===s?r=Object.create(e.__proto__||null):"[object Array]"===s?r=Array(e.length):"[object Set]"===s?(r=new Set,e.forEach((function(e){r.add(be(e))}))):"[object Map]"===s?(r=new Map,e.forEach((function(e,t){r.set(be(t),be(e))}))):"[object Date]"===s?r=new Date(+e):"[object RegExp]"===s?r=new RegExp(e.source,e.flags):"[object DataView]"===s?r=new e.constructor(be(e.buffer)):"[object ArrayBuffer]"===s?r=e.slice(0):"Array]"===s.slice(-6)&&(r=new e.constructor(e)),r){for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)he(r,n[o],Object.getOwnPropertyDescriptor(e,n[o]));for(o=0,n=Object.getOwnPropertyNames(e);o<n.length;o++)Object.hasOwnProperty.call(r,t=n[o])&&r[t]===e[t]||he(r,t,Object.getOwnPropertyDescriptor(e,t))}return r||e}function ye(e){return"string"!=typeof e?[]:e.split(".")}function Ee(e,t){const n=ye(e);if(0===n.length||"object"!=typeof t||null===t)return;let r=t[n[0]];for(let o=1;o<n.length&&null!=r;o+=1)r=r[n[o]];return r}function ge(e,t,n){const r=ye(e);if(0===r.length)return n;const o=be(n);if(1===r.length)return o[r[0]]=t,o;let s=o[r[0]];for(let i=1;i<r.length-1;i+=1){if(void 0===s)return o;s=s[r[i]]}return s[r[r.length-1]]=t,o}function ve(e,{from:t,to:n},r){const o=Ee(e,r);if(!Array.isArray(o))return r;const s=[...o],i=o[t];return s.splice(t,1),s.splice(n,0,i),ge(e,s,r)}function xe(e,t,n,r){const o=Ee(e,r);if(!Array.isArray(o))return r;const s=[...o];return s.splice("number"==typeof n?n:s.length,0,t),ge(e,s,r)}function Ce(e,t,n){const r=Ee(e,n);return Array.isArray(r)?ge(e,r.filter(((e,n)=>n!==t)),n):n}function Se(e,t,n,r){const o=Ee(e,r);if(!Array.isArray(o))return r;if(o.length<=n)return r;const s=[...o];return s[n]=t,ge(e,s,r)}var ke,je;const Ve=r(je?ke:(je=1,ke=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,o,s;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(o=r;0!==o--;)if(!e(t[o],n[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(s=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(o=r;0!==o--;)if(!Object.prototype.hasOwnProperty.call(n,s[o]))return!1;for(o=r;0!==o--;){var i=s[o];if(!e(t[i],n[i]))return!1}return!0}return t!=t&&n!=n}));function Oe(e,t){const n=Object.keys(e);if("string"==typeof t){const r=n.filter((e=>e.startsWith(`${t}.`)));return e[t]||r.some((t=>e[t]))||!1}return n.some((t=>e[t]))}function Pe(e,t){return e?`${e}-${t.toString()}`:t.toString()}const De=Symbol("root-rule");function $e(e,t,n="",r={}){return"object"!=typeof e||null===e?r:Object.keys(e).reduce(((r,o)=>{const s=e[o],i=`${""===n?"":`${n}.`}${o}`,a=Ee(i,t);let l=!1;return"function"==typeof s&&(r[i]=s(a,t,i)),"object"==typeof s&&Array.isArray(a)&&(l=!0,a.forEach(((e,n)=>$e(s,t,`${i}.${n}`,r))),De in s&&(r[i]=s[De](a,t,i))),"object"==typeof s&&"object"==typeof a&&null!==a&&(l||$e(s,t,i,r),De in s&&(r[i]=s[De](a,t,i))),r}),r)}function we(e,t){return function(e){const t=de(e);return{hasErrors:Object.keys(t).length>0,errors:t}}("function"==typeof e?e(t):$e(e,t))}function Me(e,t,n){if("string"!=typeof e)return{hasError:!1,error:null};const r=we(t,n),o=Object.keys(r.errors).find((t=>e.split(".").every(((e,n)=>e===t.split(".")[n]))));return{hasError:!!o,error:o?r.errors[o]:null}}function Te(e,t){return!!t&&("boolean"==typeof t?t:!!Array.isArray(t)&&t.includes(e.replace(/[.][0-9]+/g,".__MANTINE_FORM_INDEX__")))}function Ie({name:t,mode:n="controlled",initialValues:r,initialErrors:o={},initialDirty:s={},initialTouched:i={},clearInputErrorOnChange:a=!0,validateInputOnChange:l=!1,validateInputOnBlur:u=!1,onValuesChange:c,transformValues:d=e=>e,enhanceGetInputProps:f,validate:p,onSubmitPreventDefault:m="always",touchTrigger:h="change"}={}){const b=function(t){const[n,r]=e.useState(de(t)),o=e.useRef(n),s=e.useCallback((e=>{r((t=>{const n=de("function"==typeof e?e(t):e);return o.current=n,n}))}),[]),i=e.useCallback((()=>s({})),[]),a=e.useCallback((e=>{void 0!==o.current[e]&&s((t=>{const n={...t};return delete n[e],n}))}),[n]),l=e.useCallback(((e,t)=>{null==t||!1===t?a(e):o.current[e]!==t&&s((n=>({...n,[e]:t})))}),[n]);return{errorsState:n,setErrors:s,clearErrors:i,setFieldError:l,clearFieldError:a}}(o),y=function({initialValues:t,onValuesChange:n,mode:r}){const o=e.useRef(!1),[s,i]=e.useState(t||{}),a=e.useRef(s),l=e.useRef(s),u=e.useCallback((({values:e,subscribers:t,updateState:r=!0,mergeWithPreviousValues:o=!0})=>{const s=a.current,l=e instanceof Function?e(a.current):e,u=o?{...s,...l}:l;a.current=u,r&&i(u),n?.(u,s),t?.filter(Boolean).forEach((e=>e({updatedValues:u,previousValues:s})))}),[n]),c=e.useCallback((e=>{const t=Ee(e.path,a.current),n=e.value instanceof Function?e.value(t):e.value;if(t!==n){const t=a.current,r=ge(e.path,n,a.current);u({values:r,updateState:e.updateState}),e.subscribers?.filter(Boolean).forEach((n=>n({path:e.path,updatedValues:r,previousValues:t})))}}),[u]),d=e.useCallback((e=>{l.current=e}),[]),f=e.useCallback(((e,t)=>{o.current||(o.current=!0,u({values:e,updateState:"controlled"===r}),d(e),t())}),[u]),p=e.useCallback((()=>{u({values:l.current,updateState:!0,mergeWithPreviousValues:!1})}),[u]),m=e.useCallback((()=>a.current),[]),h=e.useCallback((()=>l.current),[]);return{initialized:o,stateValues:s,refValues:a,valuesSnapshot:l,setValues:u,setFieldValue:c,resetValues:p,setValuesSnapshot:d,initialize:f,getValues:m,getValuesSnapshot:h}}({initialValues:r,onValuesChange:c,mode:n}),E=function({initialDirty:t,initialTouched:n,mode:r,$values:o}){const[s,i]=e.useState(n),[a,l]=e.useState(t),u=e.useRef(n),c=e.useRef(t),d=e.useCallback((e=>{const t="function"==typeof e?e(u.current):e;u.current=t,"controlled"===r&&i(t)}),[]),f=e.useCallback(((e,t=!1)=>{const n="function"==typeof e?e(c.current):e;c.current=n,("controlled"===r||t)&&l(n)}),[]),p=e.useCallback((()=>d({})),[]),m=e.useCallback((e=>{const t=e?{...o.refValues.current,...e}:o.refValues.current;o.setValuesSnapshot(t),f({})}),[]),h=e.useCallback(((e,t)=>{d((n=>Oe(n,e)===t?n:{...n,[e]:t}))}),[]),b=e.useCallback(((e,t,n)=>{f((n=>Oe(n,e)===t?n:{...n,[e]:t}),n)}),[]),y=e.useCallback(((e,t)=>{const n=Oe(c.current,e),r=!Ve(Ee(e,o.getValuesSnapshot()),t),s=fe(e,c.current);s[e]=r,f(s,n!==r)}),[]),E=e.useCallback((e=>Oe(u.current,e)),[]),g=e.useCallback((e=>f((t=>{if("string"!=typeof e)return t;const n=fe(e,t);return delete n[e],Ve(n,t)?t:n}))),[]),v=e.useCallback((e=>{if(e){const t=Ee(e,c.current);if("boolean"==typeof t)return t;const n=Ee(e,o.refValues.current),r=Ee(e,o.valuesSnapshot.current);return!Ve(n,r)}return Object.keys(c.current).length>0?Oe(c.current):!Ve(o.refValues.current,o.valuesSnapshot.current)}),[]),x=e.useCallback((()=>c.current),[]),C=e.useCallback((()=>u.current),[]);return{touchedState:s,dirtyState:a,touchedRef:u,dirtyRef:c,setTouched:d,setDirty:f,resetDirty:m,resetTouched:p,isTouched:E,setFieldTouched:h,setFieldDirty:b,setTouchedState:i,setDirtyState:l,clearFieldDirty:g,isDirty:v,getDirty:x,getTouched:C,setCalculatedFieldDirty:y}}({initialDirty:s,initialTouched:i,$values:y,mode:n}),g=function({$values:t,$errors:n,$status:r}){return{reorderListItem:e.useCallback(((e,o)=>{r.clearFieldDirty(e),n.setErrors((t=>function(e,{from:t,to:n},r){const o=`${e}.${t}`,s=`${e}.${n}`,i={...r};return Object.keys(r).every((e=>{let t,n;if(e.startsWith(o)&&(t=e,n=e.replace(o,s)),e.startsWith(s)&&(t=e.replace(s,o),n=e),t&&n){const e=i[t],r=i[n];return void 0===r?delete i[t]:i[t]=r,void 0===e?delete i[n]:i[n]=e,!1}return!0})),i}(e,o,t))),t.setValues({values:ve(e,o,t.refValues.current),updateState:!0})}),[]),removeListItem:e.useCallback(((e,o)=>{r.clearFieldDirty(e),n.setErrors((t=>me(e,o,t,-1))),t.setValues({values:Ce(e,o,t.refValues.current),updateState:!0})}),[]),insertListItem:e.useCallback(((e,o,s)=>{r.clearFieldDirty(e),n.setErrors((t=>me(e,s,t,1))),t.setValues({values:xe(e,o,s,t.refValues.current),updateState:!0})}),[]),replaceListItem:e.useCallback(((e,n,o)=>{r.clearFieldDirty(e),t.setValues({values:Se(e,o,n,t.refValues.current),updateState:!0})}),[])}}({$values:y,$errors:b,$status:E}),v=function({$status:t}){const n=e.useRef({}),r=e.useCallback(((t,r)=>{e.useEffect((()=>(n.current[t]=n.current[t]||[],n.current[t].push(r),()=>{n.current[t]=n.current[t].filter((e=>e!==r))})),[r])}),[]),o=e.useCallback((e=>n.current[e]?n.current[e].map((n=>r=>n({previousValue:Ee(e,r.previousValues),value:Ee(e,r.updatedValues),touched:t.isTouched(e),dirty:t.isDirty(e)}))):[]),[]);return{subscribers:n,watch:r,getFieldSubscribers:o}}({$status:E}),[x,C]=e.useState(0),[S,k]=e.useState({}),[j,V]=e.useState(!1),O=e.useCallback((()=>{y.resetValues(),b.clearErrors(),E.resetDirty(),E.resetTouched(),"uncontrolled"===n&&C((e=>e+1))}),[]),P=e.useCallback((e=>{a&&b.clearErrors(),"uncontrolled"===n&&C((e=>e+1)),Object.keys(v.subscribers.current).forEach((t=>{Ee(t,y.refValues.current)!==Ee(t,e)&&v.getFieldSubscribers(t).forEach((t=>t({previousValues:e,updatedValues:y.refValues.current})))}))}),[a]),D=e.useCallback((e=>{const t=y.refValues.current;y.initialize(e,(()=>"uncontrolled"===n&&C((e=>e+1)))),P(t)}),[P]),$=e.useCallback(((e,t,r)=>{const o=Te(e,l),s=t instanceof Function?t(Ee(e,y.refValues.current)):t;E.setCalculatedFieldDirty(e,s),"change"===h&&E.setFieldTouched(e,!0),!o&&a&&b.clearFieldError(e),y.setFieldValue({path:e,value:t,updateState:"controlled"===n,subscribers:[...v.getFieldSubscribers(e),o?t=>{const n=Me(e,p,t.updatedValues);n.hasError?b.setFieldError(e,n.error):b.clearFieldError(e)}:null,!1!==r?.forceUpdate&&"controlled"!==n?()=>k((t=>({...t,[e]:(t[e]||0)+1}))):null]})}),[c,p]),w=e.useCallback((e=>{const t=y.refValues.current;y.setValues({values:e,updateState:"controlled"===n}),P(t)}),[c,P]),M=e.useCallback((()=>{const e=we(p,y.refValues.current);return b.setErrors(e.errors),e}),[p]),T=e.useCallback((e=>{const t=Me(e,p,y.refValues.current);return t.hasError?b.setFieldError(e,t.error):b.clearFieldError(e),t}),[p]),I=e.useCallback((e=>{e.preventDefault(),O()}),[]),F=e.useCallback((e=>e?!Me(e,p,y.refValues.current).hasError:!we(p,y.refValues.current).hasErrors),[p]),N=e.useCallback((e=>document.querySelector(`[data-path="${Pe(t,e)}"]`)),[]),R={watch:v.watch,initialized:y.initialized.current,values:y.stateValues,getValues:y.getValues,getInitialValues:y.getValuesSnapshot,setInitialValues:y.setValuesSnapshot,initialize:D,setValues:w,setFieldValue:$,submitting:j,setSubmitting:V,errors:b.errorsState,setErrors:b.setErrors,setFieldError:b.setFieldError,clearFieldError:b.clearFieldError,clearErrors:b.clearErrors,resetDirty:E.resetDirty,setTouched:E.setTouched,setDirty:E.setDirty,isTouched:E.isTouched,resetTouched:E.resetTouched,isDirty:E.isDirty,getTouched:E.getTouched,getDirty:E.getDirty,reorderListItem:g.reorderListItem,insertListItem:g.insertListItem,removeListItem:g.removeListItem,replaceListItem:g.replaceListItem,reset:O,validate:M,validateField:T,getInputProps:(e,{type:r="input",withError:o=!0,withFocus:s=!0,...i}={})=>{var a;const l={onChange:(a=t=>$(e,t,{forceUpdate:!1}),e=>{if(e)if("function"==typeof e)a(e);else if("object"==typeof e&&"nativeEvent"in e){const{currentTarget:t}=e;t instanceof HTMLInputElement?"checkbox"===t.type?a(t.checked):a(t.value):(t instanceof HTMLTextAreaElement||t instanceof HTMLSelectElement)&&a(t.value)}else a(e);else a(e)}),"data-path":Pe(t,e)};return o&&(l.error=b.errorsState[e]),"checkbox"===r?l["controlled"===n?"checked":"defaultChecked"]=Ee(e,y.refValues.current):l["controlled"===n?"value":"defaultValue"]=Ee(e,y.refValues.current),s&&(l.onFocus=()=>E.setFieldTouched(e,!0),l.onBlur=()=>{if(Te(e,u)){const t=Me(e,p,y.refValues.current);t.hasError?b.setFieldError(e,t.error):b.clearFieldError(e)}}),Object.assign(l,f?.({inputProps:l,field:e,options:{type:r,withError:o,withFocus:s,...i},form:R}))},onSubmit:(e,t)=>n=>{"always"===m&&n?.preventDefault();const r=M();if(r.hasErrors)"validation-failed"===m&&n?.preventDefault(),t?.(r.errors,y.refValues.current,n);else{const t=e?.(d(y.refValues.current),n);t instanceof Promise&&(V(!0),t.finally((()=>V(!1))))}},onReset:I,isValid:F,getTransformedValues:e=>d(e||y.refValues.current),key:e=>`${x}-${e}-${S[e]||0}`,getInputNode:N};return function(e,t){e&&function(e){if(!/^[0-9a-zA-Z-]+$/.test(e))throw new Error(`[@mantine/use-form] Form name "${e}" is invalid, it should contain only letters, numbers and dashes`)}(e),ce(`mantine-form:${e}:set-field-value`,(e=>t.setFieldValue(e.detail.path,e.detail.value))),ce(`mantine-form:${e}:set-values`,(e=>t.setValues(e.detail))),ce(`mantine-form:${e}:set-initial-values`,(e=>t.setInitialValues(e.detail))),ce(`mantine-form:${e}:set-errors`,(e=>t.setErrors(e.detail))),ce(`mantine-form:${e}:set-field-error`,(e=>t.setFieldError(e.detail.path,e.detail.error))),ce(`mantine-form:${e}:clear-field-error`,(e=>t.clearFieldError(e.detail))),ce(`mantine-form:${e}:clear-errors`,t.clearErrors),ce(`mantine-form:${e}:reset`,t.reset),ce(`mantine-form:${e}:validate`,t.validate),ce(`mantine-form:${e}:validate-field`,(e=>t.validateField(e.detail))),ce(`mantine-form:${e}:reorder-list-item`,(e=>t.reorderListItem(e.detail.path,e.detail.payload))),ce(`mantine-form:${e}:remove-list-item`,(e=>t.removeListItem(e.detail.path,e.detail.index))),ce(`mantine-form:${e}:insert-list-item`,(e=>t.insertListItem(e.detail.path,e.detail.item,e.detail.index))),ce(`mantine-form:${e}:set-dirty`,(e=>t.setDirty(e.detail))),ce(`mantine-form:${e}:set-touched`,(e=>t.setTouched(e.detail))),ce(`mantine-form:${e}:reset-dirty`,(e=>t.resetDirty(e.detail))),ce(`mantine-form:${e}:reset-touched`,t.resetTouched)}(t,R),R}export{le as M,ee as N,se as m,D as n,Ie as u};
