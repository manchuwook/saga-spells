import{n as e,j as r,M as a,V as o,y as n,W as l,G as t,l as s}from"./mantine-core-BHR5fWID.js";import{u as i}from"./useSpellbooks-BQRnh1fI.js";import{u as c,n as d}from"./mantine-extras-ebvNXs23.js";function m({spellbook:m,opened:p,onClose:u}){const{updateSpellbook:h}=i(),{colorScheme:b}=e(),k="dark"===b,y=c({initialValues:{name:m?.name||"",character:m?.character||"",description:m?.description||""},validate:{name:e=>e?null:"Spellbook name is required",character:e=>e?null:"Character name is required"}});m&&p&&(y.values.name===m.name&&y.values.character===m.character&&y.values.description===m.description||y.setValues({name:m.name,character:m.character,description:m.description}));const g=()=>{y.reset(),u()};return m?r.jsx(a,{opened:p,onClose:g,title:r.jsx(n,{fw:700,c:k?"gray.1":"dark.8",children:"Edit Spellbook"}),overlayProps:{backgroundOpacity:.65,blur:3,color:k?"dark.8":"#e6d9c2"},children:r.jsxs("form",{onSubmit:y.onSubmit((e=>{m&&(h(m.id,{name:e.name,character:e.character,description:e.description}),d.show({title:"Spellbook Updated",message:`${e.name} has been updated`,color:"blue"}),y.reset(),u())})),children:[r.jsx(o,{label:r.jsx(n,{c:k?"gray.2":"dark.8",children:"Spellbook Name"}),placeholder:"My Wizard's Spellbook",...y.getInputProps("name"),mb:"md",styles:{input:{backgroundColor:k?"var(--mantine-color-dark-5)":"white",borderColor:k?"var(--mantine-color-dark-4)":"var(--mantine-color-gray-4)"}}}),r.jsx(o,{label:r.jsx(n,{c:k?"gray.2":"dark.8",children:"Character Name"}),placeholder:"Gandalf the Grey",...y.getInputProps("character"),mb:"md",styles:{input:{backgroundColor:k?"var(--mantine-color-dark-5)":"white",borderColor:k?"var(--mantine-color-dark-4)":"var(--mantine-color-gray-4)"}}}),r.jsx(l,{label:r.jsx(n,{c:k?"gray.2":"dark.8",children:"Description (Optional)"}),placeholder:"A brief description of this spellbook...",...y.getInputProps("description"),mb:"md",autosize:!0,minRows:3,maxRows:5,styles:{input:{backgroundColor:k?"var(--mantine-color-dark-5)":"white",borderColor:k?"var(--mantine-color-dark-4)":"var(--mantine-color-gray-4)"}}}),r.jsxs(t,{justify:"flex-end",mt:"md",children:[r.jsx(s,{variant:"outline",onClick:g,color:k?"gray.4":"gray.6",children:"Cancel"}),r.jsx(s,{type:"submit",color:k?"blue.4":"blue.6",children:"Save Changes"})]})]})}):null}export{m as E};
